(function(){var e={3389:function(e,r,t){"use strict";var s=t(3591),o=t.n(s),a=t(7626),n=t.n(a),i=t(2810),l=t.n(i),m=t(2626),c=t.n(m),u=t(32),g=t.n(u),d=t(4223),p=t.n(d),f=t(538),h=function(){var e=this,r=e._self._c;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},v=[],b={name:"App"},w=b,F=t(1001),y=(0,F.Z)(w,h,v,!1,null,null,null),_=y.exports,k=t(8345),x=function(){var e=this,r=e._self._c;return r("div",{staticClass:"loginPage-container"},[r("div",{staticClass:"login-form"},[r("h2",[e._v("账号登录")]),e._v(" "),r("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.rules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"账号",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入账号",clearable:""},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{staticClass:"unlogin-checkbox",attrs:{label:""}},[r("el-checkbox",{model:{value:e.loginForm.remeberMe,callback:function(r){e.$set(e.loginForm,"remeberMe",r)},expression:"loginForm.remeberMe"}},[e._v("7天内免密登录")])],1),e._v(" "),r("el-form-item",[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-button",attrs:{type:"primary"},on:{click:function(r){return e.submitForm()}}},[e._v("登  录")]),e._v(" "),r("div",{staticClass:"login-edit"},[r("a",{staticClass:"forgetpwd",attrs:{target:"_blank",href:""}},[e._v("忘记密码")]),e._v(" "),r("span",{staticClass:"forgetpwd",attrs:{target:"_blank",href:""}},[e._v("|")]),e._v(" "),r("router-link",{staticClass:"forgetpwd",attrs:{target:"_self",to:"/register"}},[e._v("新注册用户")])],1)])],1)],1)])},S=[],P=t(6473),C=t.n(P);let O=null;const $=e=>{O&&O.close(),O=C()(e)};["error","success","info","warning"].forEach((e=>{$[e]=r=>("string"===typeof r&&(r={message:r,duration:3e3}),r.type=e,$(r))}));var E=t(6154),j=t(129),T=t.n(j);const R=E.Z.create({baseURL:"",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},transformRequest:[function(e){return e instanceof FormData?e:T().stringify(e,{arrayFormat:"brackets"})}]});R.interceptors.request.use((e=>{if(localStorage.getItem("uid")&&(e.headers["uid"]=localStorage.getItem("uid")),e.headers.biz_env=localStorage.getItem("biz_env"),/application\/json/.test(e.headers["Content-Type"])&&delete e.transformRequest,"get"!==e.method&&e.params&&/application\/x-www-form-urlencoded/.test(e.headers["Content-Type"])){const r=new FormData;Object.entries(e.params).forEach((e=>{let[t,s]=e;void 0!==s&&null!==s&&r.append(t,String(s))})),e.data=r,e.params={}}if("get"===e.method&&e.params&&Object.keys(e.params).length>0){let r=e.url;const t=T().stringify(e.params,{arrayFormat:"brackets"});e.params={},e.url=`${r}${r.includes("?")?"&":"?"}${t}`}return e}),(e=>Promise.reject(e))),R.interceptors.response.use((e=>{const r=e.data;return 200===r.code?r:($({message:r.message||r.msg,type:"warning"}),e)}),(e=>{console.log(e.response,"===sys request response error"),"991010"==e.response.data.code&&(window.location.href="/401");const r=e.response.data&&(e.response.data.msg||e.response.data.message)||e.response.statusText;return $({message:r,type:"warning"}),Promise.resolve({code:500,msg:r,message:r})}));var q=R;const L="production"==={NODE_ENV:"production",BASE_URL:""}.ENV?`${{NODE_ENV:"production",BASE_URL:""}.baseURL}`:"";function I(e){return q({baseURL:L,url:"/login",headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post",data:JSON.stringify(e)})}function U(e){return q({baseURL:L,url:"/register",headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post",data:JSON.stringify(e)})}var Z={name:"login",data(){return{loading:!1,loginForm:{username:"",password:"",remeberMe:!1},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm(){this.$refs.loginForm.validate((e=>{if(!e)return $({message:"请输入登录信息",type:"warning"}),!1;this.toLogin()}))},resetForm(){this.$refs.loginForm.resetFields()},toLogin(){this.loading=!1,I({username:this.loginForm.username,password:this.loginForm.password,"remeber-me":this.loginForm.remeberMe}).then((e=>{this.loading=!1,"success"===e.data?(this.resetForm(),window.location.href=window.path.param.redirect_url,this.goHome()):"unregister"===e.data&&$({message:e.message||e.msg,type:"warning"})}))}}},M=Z,N=(0,F.Z)(M,x,S,!1,null,"327256d2",null),z=N.exports,A=function(){var e=this,r=e._self._c;return r("div",{staticClass:"registerPage-container"},[r("div",{staticClass:"register-form"},[r("h2",[e._v("欢迎注册ERP系统")]),e._v(" "),r("el-form",{ref:"registerForm",attrs:{model:e.registerForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"中文名",prop:"chinesename"}},[r("el-input",{attrs:{placeholder:"请输入中文名",clearable:""},model:{value:e.registerForm.chinesename,callback:function(r){e.$set(e.registerForm,"chinesename",r)},expression:"registerForm.chinesename"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"英文名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入英文名",clearable:""},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}}),e._v(" "),e._t("label",(function(){return[r("div",{staticStyle:{color:"#aaa","font-size":"12px","line-height":"1"}},[e._v("登录系统使用")])]}))],2),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.registerForm.checkPass,callback:function(r){e.$set(e.registerForm,"checkPass",r)},expression:"registerForm.checkPass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入手机号码",clearable:""},model:{value:e.registerForm.phone,callback:function(r){e.$set(e.registerForm,"phone",r)},expression:"registerForm.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),e._v(" "),r("el-form-item",[r("div",{staticClass:"register-button",attrs:{type:"primary"},on:{click:function(r){return e.submitForm()}}},[e._v("注  册")])])],1)],1)])},D=[],V=(t(7658),t(9272)),B={name:"register",data(){var e=(e,r,t)=>{let s=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;""===r?t(new Error("请输入手机号码")):s.test(r)?t():t(new Error("手机号码格式不正确!"))},r=(e,r,t)=>{let s=/\w+[@][a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)/;""===r?t(new Error("请输入电子邮箱")):s.test(r)?t():t(new Error("邮箱格式不正确!"))},t=(e,r,t)=>{""===r?t(new Error("请再次输入密码")):r!==this.registerForm.password?t(new Error("两次输入密码不一致!")):t()};return{registerForm:{chinesename:"",username:"",password:"",checkPass:"",phone:"",email:""},rules:{chinesename:[{required:!0,message:"请输入中文名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"change"}],checkPass:[{required:!0,message:"请再次输入确认密码",trigger:"change"},{validator:t,trigger:"blur"}],username:[{required:!0,message:"请输入英文名",trigger:"blur"}],phone:[{required:!0,message:"请输入密码",trigger:"change"},{validator:e,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"change"},{validator:r,trigger:"blur"}]}}},watch:{"registerForm.chinesename"(e){this.timer=null,clearTimeout(this.timer),this.timer=setTimeout((()=>{let r=(0,V.ZP)(e,{style:"normal"});this.registerForm.username=r.concat().join("")}),2e3)}},methods:{submitForm(){this.$refs.registerForm.validate((e=>{if(!e)return $({message:"请输入登录信息",type:"warning"}),!1;this.toregister()}))},resetForm(){this.$refs.registerForm.resetFields()},toregister(){U({username:this.registerForm.username,chinesename:this.registerForm.chinesename,password:this.registerForm.password,phone:this.registerForm.phone,email:this.registerForm.email}).then((e=>{"success"===e.data?(this.resetForm(),this.goLogin()):$({message:e.message||e.msg,type:"warning"})}))},goLogin(){localStorage.setItem("routeHref","/login"),this.$router.push("/login")}}},H=B,J=(0,F.Z)(H,A,D,!1,null,"32567273",null),G=J.exports;f["default"].use(k.Z);const K=[{path:"/",redirect:"/login"},{path:"/login",component:z},{path:"/register",component:G}],Q=e=>new k.Z({routes:e}),W=Q(K);W.onError((e=>{const r=/Loading chunk (\S)+ failed/g,t=/Loading CSS chunk (\S)+ failed/g,s=e.message.match(r||t),o=W.history.pending.fullPath;s&&(localStorage.setItem("targetPath",o),window.location.reload())})),W.onReady((()=>{const e=localStorage.getItem("targetPath"),r=localStorage.getItem("tryReload");e&&(localStorage.removeItem("targetPath"),r?localStorage.removeItem("tryReload"):(W.replace(e),localStorage.setItem("tryReload",!0)))}));var X=W;f["default"].use(p()),f["default"].use(g()),f["default"].use(c()),f["default"].use(l()),f["default"].use(n()),f["default"].use(o().directive),new f["default"]({el:"#app",router:X,render:e=>e(_)})},4654:function(){}},r={};function t(s){var o=r[s];if(void 0!==o)return o.exports;var a=r[s]={exports:{}};return e[s].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(r,s,o,a){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],a=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(t.O).every((function(e){return t.O[e](s[l])}))?s.splice(l--,1):(i=!1,a<n&&(n=a));if(i){e.splice(c--,1);var m=o();void 0!==m&&(r=m)}}return r}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,o,a]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,s){var o,a,n=s[0],i=s[1],l=s[2],m=0;if(n.some((function(r){return 0!==e[r]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(l)var c=l(t)}for(r&&r(s);m<n.length;m++)a=n[m],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(c)},s=self["webpackChunklogin"]=self["webpackChunklogin"]||[];s.forEach(r.bind(null,0)),s.push=r.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(3389)}));s=t.O(s)})();